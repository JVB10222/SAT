<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Appton - Bootstrap 4 Template</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <!-- Google fonts - Poppins-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,600">
    <!-- Lightbox-->
    <!-- Favicon-->
    <link rel="shortcut icon" href="img/favicon.png">
    <!-- Tweaks for older IEs-->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>
<body>
    <!-- navbar-->
    <header class="header">
        <nav class="navbar navbar-expand-lg fixed-top">
            <div class="container">
                @* ToDo1 of logo here *@
                @*<a href="./" class="navbar-brand"><img src="img/logo.svg" alt="" class="img-fluid"></a>*@
                <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right">Menu<i class="fa fa-bars ml-2"></i></button>
                <div id="navbarSupportedContent" class="collapse navbar-collapse">
                    <ul class="navbar-nav ml-auto">
                        <!-- Link-->
                        <li class="nav-item nav-link "><a href="@Url.Action("Index", "Home")">Home</a></li>
                        <!-- Link-->
                        <li class="nav-item nav-link "><a href="@Url.Action("Contact","Home")">Contact</a></li>

                        @if (Request.IsAuthenticated && User.IsInRole("Admin") || User.IsInRole("Scheduling"))
                        {
                            <li class="nav-item dropdown">
                                <a id="pages" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Scheduling</a>

                                <div class="dropdown-menu">
                                    <a href="@Url.Action("Index", "Enrollments")" class="dropdown-item">Enrollment</a>
                                    <a href="@Url.Action("Index", "ScheduledClasses")" class="dropdown-item">Class Schedule</a>
                                    <a href="@Url.Action("Index", "Students")" class="dropdown-item">Students</a>
                                </div>
                            </li>
                        }
                        @if (Request.IsAuthenticated && User.IsInRole("Admin"))
                        {
                            <li class="nav-item dropdown">
                                <a id="pages" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Admin</a>

                                <div class="dropdown-menu">
                                    <a href="@Url.Action("Index", "Cours")" class="dropdown-item">Courses</a>
                                    <a href="@Url.Action("Index", "StudentStatus")" class="dropdown-item">Student Status</a>
                                </div>
                            </li>
                        }
                    </ul>
                    @Html.Partial("_LoginPartial")
                    @*@if (!Request.IsAuthenticated)
                        {
                            <a href="#" data-toggle="modal" data-target="#login" class="btn btn-primary navbar-btn ml-0 ml-lg-3">Login </a>
                        }
                        @if (Request.IsAuthenticated)
                        {

                            using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                            {
                                @Html.AntiForgeryToken()

                                <a href="javascript:document.getElementById('logoutForm').submit()" class="btn btn-primary navbar-btn ml-0 ml-lg-3">Log off</a>

                            }
                        }*@
                </div>
            </div>
        </nav>
    </header>
    <!-- Login Modal-->
    @*<div id="login" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade bd-example-modal-lg">
            <div role="document" class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header border-bottom-0">
                        <button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">×</span></button>
                    </div>
                    <div class="modal-body p-4 p-lg-5">
                        <div class="form-group">
                            @model SAT.UI.Models.LoginViewModel
                            <section id="loginForm">
                                @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                                {
                                    @Html.AntiForgeryToken()
                                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.Email, new { @class = "col-md-2 control-label" })
                                        <div class="col-md-10">
                                            @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.Password, new { @class = "col-md-2 control-label" })
                                        <div class="col-md-10">
                                            @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <input type="submit" value="Log in" class="btn btn-primary" />
                                    </div>
                                    <div class="form-group">
                                        @Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink", @class = "btn btn-primary" })
                                    </div>
                                    <p>
                                        @Html.ActionLink("Forget your password?", "ForgotPassword")
                                    </p>
                                }
                            </section>
                        </div>

                    </div>
                </div>
            </div>
        </div>*@


    <div class="hero shell">@RenderBody()</div>
    <footer class="main-footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 mb-5 mb-lg-0">
                    @* ToDo2 Add logo here *@
                    @*<div class="footer-logo"><img src="img/logo-footer.svg" alt="..." class="img-fluid"></div>*@
                    @if (Request.IsAuthenticated && User.IsInRole("Admin"))
                    {
                        <ul class="navbar-nav ">
                            <li>@Html.ActionLink("RolesAdmin", "Index", "RolesAdmin", new { @class = "nav-item nav-link" })</li>
                            <li>@Html.ActionLink("UsersAdmin", "Index", "UsersAdmin", new { @class = "nav-item nav-link" })</li>
                            <li>
                                <div>
                                    Documentation<a href="~/Content/DocumentationSAT.pdf">~/Content/DocumentationSAT.pdf</a>
                                </div>
                            </li>
                        </ul>
                    }
                </div>
            </div>
        </div>
        <div class="copyrights">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 text-center text-lg-left">
                        <p class="copyrights-text mb-3 mb-lg-0">&copy; @DateTime.Now.Year All rights reserved. Appton.co. Design by <a href="https://bootstrapious.com/p/big-bootstrap-tutorial" class="external footer-link">Bootstrapious </a></p>


                    </div>
                    <div class="col-lg-6 text-center text-lg-right">

                        @*<ul class="list-inline social mb-0">
                                <li class="list-inline-item"><a href="#" class="social-link"><i class="icon-facebook"></i></a><a href="#" class="social-link"><i class="fa fa-twitter"></i></a><a href="#" class="social-link"><i class="fa fa-youtube-play"></i></a><a href="#" class="social-link"><i class="fa fa-vimeo"></i></a><a href="#" class="social-link"><i class="fa fa-pinterest"></i></a></li>
                            </ul>*@
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        (function () {
            //Use the DOM (document oblect model) to locate the current select page to high light the right link in the nav
            //(.navbar-nav > li a)
            //$('.navbar-nav > li a').each(function () {
            //    if ($(this).attr('href') == window.location.pathname) {
            //        $(this).addClass('active');
            //    }
            //});
            //If the active classs is placed on the li in the temp then do this
            $('.navbar-nav > li').each(function () {
                if ($(this).find('a'), attr('href') == window.location.pathname) {
                    $(this).addClass('customActive');
                }
            });


            //$('.navbar-nav li').click(function () {
            //    $(this).addClass('customActive').siblings().removeClass('customActive');
            //});
        });
    </script>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>